<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="cn.ssm.dao.ResumeMapper">
  <resultMap id="BaseResultMap" type="cn.ssm.model.Resume">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="id" property="id" jdbcType="BIGINT" />
    <result column="title" property="title" jdbcType="VARCHAR" />
    <result column="job_category" property="jobCategory" jdbcType="VARCHAR" />
    <result column="work_place" property="workPlace" jdbcType="VARCHAR" />
    <result column="salary_expectation" property="salaryExpectation" jdbcType="VARCHAR" />
    <result column="name" property="name" jdbcType="VARCHAR" />
    <result column="gender" property="gender" jdbcType="VARCHAR" />
    <result column="working_life" property="workingLife" jdbcType="VARCHAR" />
    <result column="highest_degree" property="highestDegree" jdbcType="VARCHAR" />
    <result column="phone_number" property="phoneNumber" jdbcType="VARCHAR" />
    <result column="u_id" property="uId" jdbcType="BIGINT" />
  </resultMap>
  <!--招聘公司和简历多对多的resultMap-->

  <resultMap type="Recruit" id="recruitResumeMap" extends="BaseResultMap">
  <collection property="recruits" ofType="cn.ssm.model.Recruit">
  <id jdbcType="BIGINT" column="id" property="id" javaType="java.lang.Long"/>
  <result jdbcType="VARCHAR" column="login_name" property="loginName" javaType="java.lang.String"/>
  <result jdbcType="VARCHAR" column="password" property="password" javaType="java.lang.String"/>
  <result jdbcType="VARCHAR" column="email" property="email" javaType="java.lang.String"/>
  <result jdbcType="VARCHAR" column="gender" property="gender" javaType="java.lang.String"/>
  <result jdbcType="VARCHAR" column="name" property="name" javaType="java.lang.String"/>
  <result jdbcType="VARCHAR" column="phone_number" property="phoneNumber" javaType="java.lang.String"/>
  <result jdbcType="VARCHAR" column="age" property="age" javaType="java.lang.String"/>
</collection>
  </resultMap>

    <resultMap type="Resume" id="usersMap" extends="BaseResultMap">
      <association property="users" javaType="cn.ssm.model.User">
        <id property="id" jdbcType="BIGINT" column="id" javaType="java.lang.Long"/>
        <result property="login_name" jdbcType="VARCHAR" column="login_name" javaType="java.lang.String"/>
        <result property="password" jdbcType="VARCHAR" column="password" javaType="java.lang.String"/>
        <result property="email" jdbcType="VARCHAR" column="email" javaType="java.lang.String"/>
        <result property="gender" jdbcType="VARCHAR" column="gender" javaType="java.lang.String"/>
        <result property="name" jdbcType="VARCHAR" column="name" javaType="java.lang.String"/>
        <result property="phoneNumber" jdbcType="VARCHAR" column="phone_number" javaType="java.lang.String"/>
        <result property="age" jdbcType="VARCHAR" column="age" javaType="java.lang.String"/>
      </association>
    </resultMap>


  <update id="updateResume" parameterType="cn.ssm.model.Resume">
  UPDATE ssm_resume
  SET
  title = #{title},
  job_category = #{jobCategory},
  work_place = #{workPlace},
  salary_expectation = #{salaryExpectation},
  name = #{name} ,
  working_life = #{workingLife} ,
  highest_degree = #{highestDegree} ,
  phone_number = #{phoneNumber}
  WHERE
  id = #{id};
</update>

  <select id="getResListByUid" resultMap="BaseResultMap" parameterType="cn.ssm.model.User"> SELECT * FROM ssm_resume WHERE u_id=#{id} </select>


</mapper>